<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menú Lateral</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #404040;
            color: white;
        }
        .menu-lateral {
            color: white;
            width: 300px;
            padding: 20px;
            height: 100vh;
            position: fixed;
            background-color: #404040;
        }
        .menu-lateral h2 {
            font-family: 'Georgia', serif;
            margin-bottom: 10px;
        }
        .menu-lateral input {
            width: 50px;
            padding: 5px;
            text-align: center;
        }
        .menu-lateral button {
            width: 30px;
            height: 30px;
            border: none;
            border-radius: 50%;
            background-color: #777;
            color: white;
            font-size: 18px;
            margin-left: 10px;
            cursor: pointer;
        }
        .menu-lateral .section {
            margin-bottom: 20px;
        }
        .menu-lateral .nav-buttons button {
          width: 100%;
    padding: 10px;
    margin-top: 10px;
    border: none;
    color: white;
    padding: 14px 28px;
    cursor: pointer;
    border-radius: 5px;
    /* Color base del botón */
    transition: transform 0.3s ease-in-out; /* Transición suave del efecto de pulsación */
    background-image: linear-gradient(to right, #6c757d, #adb5bd);
    text-align: center; /* Asegura que el texto esté centrado horizontalmente */
    line-height: normal; /* Esto es para evitar que el texto se desplace */
    display: flex; /* Usamos flexbox */
    justify-content: center; /* Centrado horizontal */
    align-items: center; /* Centrado vertical */

        }
        .menu-lateral .nav-buttons button:hover {
           linear-gradient(to right, #848b92, #adb5bd);/* Cambia el color al pasar el cursor sobre el botón */
        }
.menu-lateral .nav-buttons button:active {
           transform: scale(0.80);/* Reduce ligeramente el tamaño del botón cuando se hace clic */
        }

        /* Estilo del mensaje de alerta */
        .alerta {
            color: yellow;
            font-weight: bold;
            display: none; /* Inicialmente oculto */
        }
    </style>
</head>
<body>

<div class="menu-lateral">
    <div class="section">
        <h2>Moral</h2>
        <!-- Mensaje de alerta -->
        <p id="alerta" class="alerta">Todos Sufren -20 DET</p>

        <label>Max. <input id="maxMoral" type="number" value="18" min="1" max="20"></label><br><br>
        <label>Med. <input id="medMoral" type="number" value="9" readonly></label><br><br>
        <label>Moral Actual <input id="moralActual" type="number" value="14" min="1" max="20"></label>
        <button id="moralIncrement">+</button>
        <button id="moralDecrement">-</button>
    </div>

    <div class="section">
        <h2>Amenaza</h2>
        <label>Min. <input id="minAmenaza" type="number" value="2" min="1" max="20"></label><br><br>
        <label>Evento <input id="eventoAmenaza" type="number" value="12" min="1" max="20"></label><br><br>
        <label>Amenaza Actual <input id="amenazaActual" type="number" value="7" min="1" max="20"></label>
        <button id="amenazaIncrement">+</button>
        <button id="amenazaDecrement">-</button>
    </div>

   <div class="nav-buttons">
    <button onclick="window.top.location.href='tesoros.html'">Tesoros</button>
    <button onclick="window.top.location.href='objetos_legendarios.html'">Objetos Legendarios</button>
    <button onclick="window.top.location.href='eventos.html'">Eventos</button>
    <button onclick="window.top.location.href='trampas.html'">Trampas</button>
</div>
</div>

<!-- Añadimos el elemento de audio -->
<audio id="moralBajaAudio" src="moral_baja.MP3" preload="auto"></audio>

<script>
    // Funcionalidad de Moral
    const maxMoral = document.getElementById('maxMoral');
    const medMoral = document.getElementById('medMoral');
    const moralActual = document.getElementById('moralActual');
    const moralIncrement = document.getElementById('moralIncrement');
    const moralDecrement = document.getElementById('moralDecrement');
    const alerta = document.getElementById('alerta');
    const moralBajaAudio = document.getElementById('moralBajaAudio'); // Audio de moral baja

    // Actualizar el valor de Med automáticamente
    maxMoral.addEventListener('input', function() {
        medMoral.value = Math.floor(maxMoral.value / 2);
        checkMoral();
    });

    // Botón de incrementar Moral Actual
    moralIncrement.addEventListener('click', function() {
        const maxVal = parseInt(maxMoral.value);
        const currentMoral = parseInt(moralActual.value);

        if (currentMoral < maxVal) {
            moralActual.value = currentMoral + 1;
            checkMoral();
        }
    });

    // Botón de decrementar Moral Actual
    moralDecrement.addEventListener('click', function() {
        const currentMoral = parseInt(moralActual.value);

        if (currentMoral > 1) {
            moralActual.value = currentMoral - 1;
            checkMoral();
        }
    });

    // Función para verificar si la moral es menor a la media
    function checkMoral() {
        const currentMoral = parseInt(moralActual.value);
        const currentMed = parseInt(medMoral.value);

        if (currentMoral < currentMed) {
            alerta.style.display = 'block'; // Muestra el mensaje si Moral Actual es menor que Med
            moralBajaAudio.play(); // Reproduce el audio
        } else {
            alerta.style.display = 'none'; // Oculta el mensaje si es igual o mayor
            moralBajaAudio.pause(); // Pausa el audio si estaba en reproducción
            moralBajaAudio.currentTime = 0; // Reinicia el audio para que se reproduzca desde el principio la próxima vez
        }
    }

    // Funcionalidad de Amenaza
    const minAmenaza = document.getElementById('minAmenaza');
    const amenazaActual = document.getElementById('amenazaActual');
    const amenazaIncrement = document.getElementById('amenazaIncrement');
    const amenazaDecrement = document.getElementById('amenazaDecrement');

    // Botón de incrementar Amenaza Actual
    amenazaIncrement.addEventListener('click', function() {
        if (amenazaActual.value < 20) {
            amenazaActual.value = parseInt(amenazaActual.value) + 1;
        }
    });

    // Botón de decrementar Amenaza Actual
    amenazaDecrement.addEventListener('click', function() {
        if (amenazaActual.value > minAmenaza.value) {
            amenazaActual.value = parseInt(amenazaActual.value) - 1;
        }
    });

    // Ejecutar al cargar la página para verificar el estado inicial de la moral
    checkMoral();
</script>

</body>
</html>
